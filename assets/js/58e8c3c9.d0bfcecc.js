"use strict";(self.webpackChunkelcengine=self.webpackChunkelcengine||[]).push([[6361],{4790:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var r=n(4848),s=n(8453);const o={sidebar_position:1},a="Document Insert",i={id:"triggers/document-insert",title:"Document Insert",description:"Triggers or Change Streams as they are known in MongoDB are a way to listen to changes in the database and react to them. Elemental abstracts this concept and integrates it directly into the model you create.",source:"@site/docs/triggers/document-insert.md",sourceDirName:"triggers",slug:"/triggers/document-insert",permalink:"/docs/triggers/document-insert",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/triggers/document-insert.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docSidebar",previous:{title:"Triggers",permalink:"/docs/category/triggers"},next:{title:"Document Update",permalink:"/docs/triggers/document-update"}},c={},d=[{value:"Usage",id:"usage",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"document-insert",children:"Document Insert"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Triggers"})," or ",(0,r.jsx)(t.code,{children:"Change Streams"})," as they are known in MongoDB are a way to listen to changes in the database and react to them. Elemental abstracts this concept and integrates it directly into the model you create."]}),"\n",(0,r.jsx)(t.p,{children:"These are different from lifecycle hooks as they are invoked at the application level and not the database level. This means that your trigger will be invoked regardless of where the change came from, be it your application or another application."}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"Model.onInsert"})," method allows you to listen to when a new document corresponding to the model is inserted into the database."]}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'CastleModel.OnInsert(func(castle Castle) {\n\tfmt.Println("New castle inserted", castle)\n})\n`\n'})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(6540);const s={},o=r.createContext(s);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);