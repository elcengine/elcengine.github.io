"use strict";(self.webpackChunkelcengine=self.webpackChunkelcengine||[]).push([[5731],{920:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>t,contentTitle:()=>s,default:()=>o,frontMatter:()=>c,metadata:()=>r,toc:()=>a});var d=n(4848),i=n(8453);const c={sidebar_position:25},s="Schedule",r={id:"querybuilder/schedule",title:"Schedule",description:"The Schedule method is used to schedule the execution of a query based on a given specifier. This is built on top of Robofig Cron module and supports all the cron specifiers that Robofig supports.",source:"@site/docs/querybuilder/schedule.md",sourceDirName:"querybuilder",slug:"/querybuilder/schedule",permalink:"/docs/querybuilder/schedule",draft:!1,unlisted:!1,editUrl:"https://github.com/elcengine/elcengine.github.io/tree/main/docs/docs/querybuilder/schedule.md",tags:[],version:"current",sidebarPosition:25,frontMatter:{sidebar_position:25},sidebar:"docSidebar",previous:{title:"Paginate",permalink:"/docs/querybuilder/paginate"},next:{title:"Or Fail",permalink:"/docs/querybuilder/or-fail"}},t={},a=[{value:"Usage",id:"usage",level:2},{value:"Cancelling a scheduled query",id:"cancelling-a-scheduled-query",level:2},{value:"Cancell all scheduled queries",id:"cancell-all-scheduled-queries",level:2}];function u(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.h1,{id:"schedule",children:"Schedule"}),"\n",(0,d.jsxs)(l.p,{children:["The ",(0,d.jsx)(l.code,{children:"Schedule"})," method is used to schedule the execution of a query based on a given specifier. This is built on top of ",(0,d.jsx)(l.a,{href:"https://pkg.go.dev/github.com/robfig/cron/v3",children:(0,d.jsx)(l.code,{children:"Robofig Cron"})})," module and supports all the cron specifiers that ",(0,d.jsx)(l.code,{children:"Robofig"})," supports."]}),"\n",(0,d.jsx)(l.h2,{id:"usage",children:"Usage"}),"\n",(0,d.jsx)(l.pre,{children:(0,d.jsx)(l.code,{className:"language-go",children:'id := WitcherModel.UpdateOne(primitive.M{"name": "Geralt"}, primitive.M{"age": 101}).Schedule("0 0 1 1 *").Exec().(int)\n'})}),"\n",(0,d.jsxs)(l.p,{children:["In the example above, we are updating the ",(0,d.jsx)(l.code,{children:"age"})," field of the Witcher document with the name ",(0,d.jsx)(l.code,{children:"Geralt"})," and scheduling the update to run on the first day of January at midnight."]}),"\n",(0,d.jsx)(l.h2,{id:"cancelling-a-scheduled-query",children:"Cancelling a scheduled query"}),"\n",(0,d.jsxs)(l.p,{children:["To cancel a scheduled query, you can use the ",(0,d.jsx)(l.code,{children:"Cancel"})," method."]}),"\n",(0,d.jsx)(l.pre,{children:(0,d.jsx)(l.code,{className:"language-go",children:"WitcherModel.UnSchedule(id)\n"})}),"\n",(0,d.jsxs)(l.p,{children:["In the example above, we are cancelling the scheduled query with the given ",(0,d.jsx)(l.code,{children:"id"})," which was returned when the query was scheduled."]}),"\n",(0,d.jsx)(l.h2,{id:"cancell-all-scheduled-queries",children:"Cancell all scheduled queries"}),"\n",(0,d.jsxs)(l.p,{children:["To cancel all scheduled queries, you can use the ",(0,d.jsx)(l.code,{children:"UnScheduleAll"})," method."]}),"\n",(0,d.jsx)(l.pre,{children:(0,d.jsx)(l.code,{className:"language-go",children:"WitcherModel.UnScheduleAll()\n"})}),"\n",(0,d.jsx)(l.p,{children:"In the example above, we are cancelling all scheduled queries."})]})}function o(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,d.jsx)(l,{...e,children:(0,d.jsx)(u,{...e})}):u(e)}},8453:(e,l,n)=>{n.d(l,{R:()=>s});var d=n(6540);const i={},c=d.createContext(i);function s(e){const l=d.useContext(c);return d.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}}}]);